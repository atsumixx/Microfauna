<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Expense - Microfauna Sales Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
        <svg class="sun-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="5" fill="currentColor"/>
            <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <svg class="moon-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" fill="currentColor"/>
        </svg>
    </button>
    <script src="{{ url_for('static', filename='theme.js') }}"></script>
    
    <div class="container">
        <h1>Edit Expense #{{ expense.id }}</h1>
        
        {% if error %}
        <div class="alert alert-error">
            <strong>Error:</strong> {{ error }}
        </div>
        {% endif %}
        
        <form method="POST">
            <label for="description">Description *</label>
            <input type="text" id="description" name="description" value="{{ expense.description }}" required>
            
            <label for="amount">Amount (â‚±) *</label>
            <input type="number" id="amount" name="amount" step="0.01" min="0.01" value="{{ expense.amount }}" required>
            
            <label for="category">Category *</label>
            <select id="category" name="category" required>
                <option value="Supplies" {% if expense.category == 'Supplies' %}selected{% endif %}>Supplies</option>
                <option value="Shipping" {% if expense.category == 'Shipping' %}selected{% endif %}>Shipping</option>
                <option value="Equipment" {% if expense.category == 'Equipment' %}selected{% endif %}>Equipment</option>
                <option value="Marketing" {% if expense.category == 'Marketing' %}selected{% endif %}>Marketing</option>
                <option value="Utilities" {% if expense.category == 'Utilities' %}selected{% endif %}>Utilities</option>
                <option value="Maintenance" {% if expense.category == 'Maintenance' %}selected{% endif %}>Maintenance</option>
                <option value="Other" {% if expense.category == 'Other' %}selected{% endif %}>Other</option>
            </select>
            
            <label for="date">Date *</label>
            <input type="date" id="date" name="date" value="{{ expense.date }}" required>
            
            <label for="notes">Notes (Optional)</label>
            <textarea id="notes" name="notes">{{ expense.notes or '' }}</textarea>
            
            <button class="btn" type="submit">Save Changes</button>
            <a class="btn btn-secondary" href="{{ url_for('view_expenses') }}">Cancel</a>
        </form>
    </div>
</body>
</html>